.sidebar {
  width: 240px;
  min-height: 100vh;
  background: var(--surface);
  border-right: 1px solid var(--border);
  display: flex;
  flex-direction: column;
  transition: width .25s ease, background .3s, border-color .3s;
  flex-shrink: 0;
  &.collapsed { width: 64px; }
}

.sidebar-logo {
  display: flex; align-items: center; gap: .75rem;
  padding: 1.25rem 1rem;
  border-bottom: 1px solid var(--border);
  min-height: 64px;
  transition: border-color .3s;
}
.logo-text { flex: 1; display: flex; flex-direction: column; overflow: hidden; }
.logo-name { font-size: .95rem; font-weight: 700; color: var(--text); white-space: nowrap; }
.logo-sub  { font-size: .65rem; color: var(--text-muted); font-family: 'JetBrains Mono', monospace; white-space: nowrap; }
.collapse-btn {
  margin-left: auto; background: none;
  border: 1px solid var(--border); color: var(--text-muted);
  width: 26px; height: 26px; border-radius: 6px; cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all .2s; flex-shrink: 0; font-size: .7rem;
  &:hover { border-color: var(--primary); color: var(--primary); }
}

.sidebar-user {
  display: flex; align-items: center; gap: .75rem;
  padding: .85rem 1rem;
  border-bottom: 1px solid var(--border);
  transition: border-color .3s;
}
.user-avatar {
  width: 34px; height: 34px; border-radius: 50%;
  background: linear-gradient(135deg, #2563eb, #7c3aed);
  color: white; font-weight: 700; font-size: .85rem;
  display: flex; align-items: center; justify-content: center; flex-shrink: 0;
}
.user-info   { display: flex; flex-direction: column; overflow: hidden; }
.user-name   { font-size: .78rem; font-weight: 600; color: var(--text); white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
.user-role   { font-size: .65rem; color: var(--text-muted); font-family: 'JetBrains Mono', monospace; }

.sidebar-nav { flex: 1; padding: .75rem 0; overflow-y: auto; overflow-x: hidden; }

.nav-item {
  display: flex; align-items: center; gap: .75rem;
  padding: .6rem 1rem; color: var(--text-muted);
  text-decoration: none; font-size: .83rem; font-weight: 500;
  border-radius: 8px; margin: 1px .5rem;
  transition: all .15s; cursor: pointer; white-space: nowrap;
  i { font-size: .9rem; flex-shrink: 0; }
  &:hover  { background: var(--surface2); color: var(--text-soft); }
  &.active { background: var(--primary-bg); color: var(--primary); }
  &.child  { padding-left: 2rem; font-size: .8rem; }
}

.nav-group-header {
  display: flex; align-items: center; gap: .75rem;
  padding: .6rem 1rem; color: var(--text-muted);
  font-size: .83rem; font-weight: 500;
  width: calc(100% - 1rem); margin: 1px .5rem;
  border-radius: 8px; border: none; background: none;
  cursor: pointer; transition: all .15s; white-space: nowrap;
  i { font-size: .9rem; flex-shrink: 0; }
  .chevron { margin-left: auto; font-size: .7rem; }
  &:hover { background: var(--surface2); color: var(--text-soft); }
}

.nav-children { animation: slideDown .2s ease; }
@keyframes slideDown {
  from { opacity: 0; transform: translateY(-4px); }
  to   { opacity: 1; transform: none; }
}

.sidebar-bottom { padding: .75rem .5rem; border-top: 1px solid var(--border); transition: border-color .3s; }
.logout-btn {
  display: flex; align-items: center; gap: .75rem;
  padding: .6rem 1rem; color: var(--text-muted);
  font-size: .83rem; font-weight: 500;
  width: 100%; border-radius: 8px; border: none;
  background: none; cursor: pointer; transition: all .15s; white-space: nowrap;
  i { font-size: .9rem; }
  &:hover { background: rgba(239,68,68,.08); color: #ef4444; }
}
