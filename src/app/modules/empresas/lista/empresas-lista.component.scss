.page { display: flex; flex-direction: column; gap: 1.25rem; animation: fadeUp .4s ease both; }
@keyframes fadeUp { from { opacity:0; transform:translateY(12px) } to { opacity:1; transform:none } }

.page-header { display: flex; align-items: flex-start; justify-content: space-between; gap: 1rem; flex-wrap: wrap; }
.page-title  { font-size: 1.4rem; font-weight: 700; color: var(--text); margin: 0 0 .2rem; }
.page-sub    { font-size: .75rem; color: var(--text-muted); margin: 0; font-family: 'JetBrains Mono', monospace; }

.filters-bar { display: flex; gap: .75rem; align-items: center; flex-wrap: wrap; }
.search-wrap { position: relative; flex: 1; min-width: 240px; }
.search-icon {
  position: absolute; left: .85rem; top: 50%; transform: translateY(-50%);
  color: var(--text-muted); font-size: .8rem; pointer-events: none;
}
.search-input {
  width: 100%; background: var(--surface); border: 1px solid var(--border);
  border-radius: 10px; color: var(--text); font-size: .84rem;
  padding: .6rem .85rem .6rem 2.2rem; outline: none; font-family: inherit;
  transition: border-color .2s;
  &:focus { border-color: var(--primary); }
  &::placeholder { color: var(--text-muted); }
}
.search-clear {
  position: absolute; right: .75rem; top: 50%; transform: translateY(-50%);
  background: none; border: none; color: var(--text-muted); cursor: pointer; font-size: .75rem;
}
.estado-filters { display: flex; gap: .35rem; flex-wrap: wrap; }
.filter-chip {
  padding: .3rem .75rem; border-radius: 999px;
  border: 1px solid var(--border); background: none;
  color: var(--text-muted); font-size: .72rem; cursor: pointer; transition: all .15s;
  &.active { border-color: var(--primary); background: var(--primary-bg); color: var(--primary); font-weight: 600; }
  &:hover:not(.active) { border-color: var(--border2); color: var(--text-soft); }
}
.btn-refresh {
  width: 38px; height: 38px; background: var(--surface);
  border: 1px solid var(--border); border-radius: 10px;
  color: var(--text-muted); cursor: pointer;
  display: flex; align-items: center; justify-content: center;
  transition: all .2s; font-size: .85rem;
  &:hover { border-color: var(--primary); color: var(--primary); }
  &.spinning i { animation: spin .7s linear infinite; }
}
@keyframes spin { to { transform: rotate(360deg); } }

.loading-state, .empty-state {
  display: flex; flex-direction: column; align-items: center;
  justify-content: center; padding: 4rem 2rem; gap: .75rem; color: var(--text-muted);
  i { font-size: 2.5rem; opacity: .25; }
  p { margin: 0; font-size: .88rem; }
}
.loading-dots {
  display: flex; gap: .4rem;
  span { width: 8px; height: 8px; border-radius: 50%; background: var(--primary);
    animation: bounce 1.2s ease-in-out infinite;
    &:nth-child(2) { animation-delay: .2s; } &:nth-child(3) { animation-delay: .4s; }
  }
}
@keyframes bounce { 0%,80%,100% { transform:scale(.6);opacity:.4 } 40% { transform:scale(1);opacity:1 } }

/* ── Tabla ── */
.table-wrap { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; overflow: hidden; }
.data-table {
  width: 100%; border-collapse: collapse;
  th {
    padding: .65rem 1rem; font-size: .68rem; font-weight: 700;
    text-transform: uppercase; letter-spacing: .06em;
    color: var(--text-muted); background: var(--surface2);
    border-bottom: 1px solid var(--border); text-align: left;
    &.th-actions { width: 110px; text-align: center; }
  }
  td {
    padding: .8rem 1rem; border-bottom: 1px solid var(--border);
    vertical-align: middle;
    &:last-child { border-bottom-color: transparent; }
  }
  tr:last-child td { border-bottom: none; }
  tr:hover td { background: rgba(59,130,246,.03); }
}

.empresa-cell { display: flex; align-items: center; gap: .75rem; }
.emp-avatar {
  width: 36px; height: 36px; border-radius: 9px;
  background: var(--primary-bg); color: var(--primary);
  display: flex; align-items: center; justify-content: center;
  font-size: .9rem; font-weight: 800; flex-shrink: 0;
}
.emp-nombre   { font-size: .83rem; font-weight: 600; color: var(--text); line-height: 1.3; }
.emp-comercial{ font-size: .72rem; color: var(--text-muted); }
.emp-codigo   {
  font-family: 'JetBrains Mono', monospace; font-size: .62rem;
  color: var(--text-muted); background: var(--surface2);
  padding: .05rem .35rem; border-radius: 4px;
}

.id-cell  { display: flex; flex-direction: column; gap: .15rem; }
.id-tipo  { font-size: .65rem; font-weight: 700; color: var(--text-muted); text-transform: uppercase; }
.id-num   { font-family: 'JetBrains Mono', monospace; font-size: .78rem; color: var(--text-soft); }

.plan-chip {
  display: inline-block; padding: .2rem .65rem;
  border-radius: 999px; border: 1px solid;
  font-size: .7rem; font-weight: 700;
}

.usuarios-cell { display: flex; flex-direction: column; gap: .3rem; }
.mono          { font-family: 'JetBrains Mono', monospace; font-size: .78rem; color: var(--text-soft); }
.usr-bar       { height: 3px; background: var(--border); border-radius: 999px; width: 70px; overflow: hidden; }
.usr-fill      { height: 100%; background: var(--primary); border-radius: 999px; transition: width .5s ease; }

.estado-dot {
  display: inline-flex; align-items: center; gap: .4rem;
  padding: .2rem .65rem; border-radius: 999px; border: 1px solid;
  font-size: .72rem; font-weight: 600;
}
.dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }

.td-actions { text-align: center; }
.actions-wrap { display: flex; align-items: center; justify-content: center; gap: .35rem; }
.act-btn {
  width: 30px; height: 30px; border-radius: 7px;
  border: 1px solid var(--border); background: none;
  color: var(--text-muted); cursor: pointer; font-size: .75rem;
  display: flex; align-items: center; justify-content: center; transition: all .15s;
  &:hover { border-color: var(--primary); color: var(--primary); background: var(--primary-bg); }
  &.danger:hover { border-color: #ef4444; color: #ef4444; background: rgba(239,68,68,.08); }
}

.table-footer {
  padding: .6rem 1rem; font-size: .72rem; color: var(--text-muted);
  font-family: 'JetBrains Mono', monospace; border-top: 1px solid var(--border);
  background: var(--surface2);
}
